<!doctype html>
<html class="no-js" lang="">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Blocks</title>
    <link rel="stylesheet" href="css/main.css">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <script>
        function setRandColor() {
            var rgba = 0;
            for (var i = 0; i < 3; i++) {
                rgba = rgba + Math.floor((Math.random() * 255) + 0) + ",";
            }
            rgba = rgba + "1";
            return rgba;
        }

        function setBackgroundColor() {
            var x = document.getElementsByClassName("col-sm-4");
            for (var i=0; i < x.length;i++ ) {
                x[i].style.backgroundColor = "rgba(" + setRandColor() + ")";
                x[i].id = i;
            }
        }

        function startDragging(evt) {
            evt.dataTransfer.setData("Color", evt.target.style.backgroundColor);
            evt.dataTransfer.setData("Id", evt.target.id);
            evt.target.style.opacity = 0.3;
            console.log(evt.dataTransfer.getData("Color"));
            console.log(evt.dataTransfer.getData("Id"));
        }

        function setBorderSize(evt, size) {
            evt.currentTarget.style.border = size + " solid black";
        }

        function allowDrop(evt) {
            evt.preventDefault();
        }

        function drop(evt) {
            var color2 = evt.target.style.backgroundColor;
            var origSquare = document.getElementById(evt.dataTransfer.getData("Id"));
            origSquare.style.backgroundColor = color2;
            var color = evt.dataTransfer.getData("Color");
            evt.currentTarget.style.backgroundColor = color;
            setBorderSize(evt, '2px');


        }

        function dragEnded(evt) {
            evt.target.style.opacity = 1.0;
        }

console.log(setRandColor());

    </script>

</head>
<body onload="setBackgroundColor()">

    <div class="container">
        <div class="row block head">
            <header><h1>Squares</h1></header>
        </div>

        <div class="row block">
            <nav >

                <ul class="nav nav-pills">
                    <li><a href="index.html" class="btn btn-sm" >Index</a></li>
                    <li><a href="login.html" class="btn btn-sm">Log in</a></li>
                    <li><a href="logupVal.html" class="btn btn-sm">Log up</a></li>
                    <li><a href="video.html" class="btn btn-sm">Video</a></li>
                    <li class="active"><a href="squares.html" class="btn btn-sm">Squares</a></li>
                </ul>

            </nav>

        </div>

    <div class="row">
        <div ondrop="drop(event)" ondragover="allowDrop(event)" ondragenter="setBorderSize(event, '4px')" ondragleave="setBorderSize(event,
'2px')" ondragend="dragEnded(event)" ondragstart="startDragging(event)" draggable="true" class="box col-sm-4"></div>
        <div ondrop="drop(event)" ondragover="allowDrop(event)" ondragenter="setBorderSize(event, '4px')" ondragleave="setBorderSize(event,
'2px')" ondragend="dragEnded(event)" ondragstart="startDragging(event)" draggable="true" class="box col-sm-4"></div>
        <div ondrop="drop(event)" ondragover="allowDrop(event)" ondragenter="setBorderSize(event, '4px')" ondragleave="setBorderSize(event,
'2px')" ondragend="dragEnded(event)" ondragstart="startDragging(event)" draggable="true" class="box col-sm-4"></div>


    </div>
    <p>
    </p>
    <div class="row">
        <div ondrop="drop(event)" ondragover="allowDrop(event)" ondragenter="setBorderSize(event, '4px')" ondragleave="setBorderSize(event,
'2px')" ondragend="dragEnded(event)" ondragstart="startDragging(event)" draggable="true" class="box col-sm-4"></div>
        <div ondrop="drop(event)" ondragover="allowDrop(event)" ondragenter="setBorderSize(event, '4px')" ondragleave="setBorderSize(event,
'2px')" ondragend="dragEnded(event)" ondragstart="startDragging(event)" draggable="true" class="box col-sm-4"></div>
        <div ondrop="drop(event)" ondragover="allowDrop(event)" ondragenter="setBorderSize(event, '4px')" ondragleave="setBorderSize(event,
'2px')" ondragend="dragEnded(event)" ondragstart="startDragging(event)" draggable="true" class="box col-sm-4"></div>


    </div>
    <p>
    </p>
 <!--   <div class="row">
        <div ondrop="drop(event)" ondragover="allowDrop(event)" ondragenter="setBorderSize(event, '4px')" ondragleave="setBorderSize(event,
'2px')" ondragend="dragEnded(event)" ondragstart="startDragging(event)" draggable="true" class="box col-sm-4"></div>

        <div ondrop="drop(event)" ondragover="allowDrop(event)" ondragenter="setBorderSize(event, '4px')" ondragleave="setBorderSize(event,
'2px')" ondragend="dragEnded(event)" ondragstart="startDragging(event)" draggable="true" class="box col-sm-4"></div>

        <div ondrop="drop(event)" ondragover="allowDrop(event)" ondragenter="setBorderSize(event, '4px')" ondragleave="setBorderSize(event,
'2px')" ondragend="dragEnded(event)" ondragstart="startDragging(event)" draggable="true" class="box col-sm-4"></div>


    </div>-->
    <div class="row ">
        <div class="block footer">
            <footer>
                <div class="col-sm-5">
                    <p>Daniel Garc√≠a Mercadal 2015</p>
                </div>
                <div>
                    <a href="http://www.facebook.com" class="btn ">
                        <img src="img/facebook.svg" alt="facebook logo"/>
                    </a>
                    <a href="" class="btn">
                        <img src="img/twitter.svg" alt="twitter logo"/>
                    </a>
                    <a href="" class="btn">
                        <img src="img/linkedin.svg" alt="linkedin logo"/>
                    </a>
                </div>
            </footer>
        </div>
    </div>
</div>

</body>
</html>